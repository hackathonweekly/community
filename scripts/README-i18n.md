# i18n 管理工具使用说明

## 🚀 核心命令（精简版）

```bash
# 🌟 完整的中英文翻译分析（推荐）
bun run i18n:analyze

# ⚡ 快速英文验证
bun run i18n:check
```

## 📋 分析内容

### ✅ 自动检查项目
- **英文翻译验证** - 格式检查、缺失键检测
- **中文翻译验证** - 格式检查、缺失键检测  
- **未使用翻译检测** - 找出可以清理的无用翻译
- **统计摘要** - 整体健康状况一目了然

### 📊 生成报告
- **总体报告** (`00-OVERALL-REPORT.md`) - 包含建议和下一步行动
- **详细日志** - 每种检查的完整输出
- **JSON 数据** (`analysis-results.json`) - 程序化处理的结构化数据

## 💡 命令说明

### 🌟 `bun run i18n:analyze` - 全面分析
- **中英文完整检查** - 格式验证、缺失键检测
- **未使用翻译检测** - 找出可清理的无用翻译
- **自动生成报告** - 详细的分析报告和建议
- **一键解决所有问题** - 无需记忆复杂命令

### ⚡ `bun run i18n:check` - 快速检查
- **英文格式验证** - 快速检查英文翻译格式
- **轻量级检查** - 适合开发过程中的快速验证

## 📁 报告位置

报告保存在 `reports/YYYY-MM-DDTHH-MM-SS/` 目录中：

```
reports/
├── 2025-08-27T14-52-24/          # 时间戳目录
│   ├── 00-OVERALL-REPORT.md      # 📋 总体报告 
│   ├── analysis-results.json     # 📊 结构化数据
│   ├── en-full-check.txt         # 🇺🇸 英文完整检查
│   ├── en-missing.txt            # 🇺🇸 英文缺失翻译
│   ├── en-unused.txt             # 🇺🇸 英文未使用翻译
│   ├── en-summary.txt            # 🇺🇸 英文摘要
│   ├── zh-full-check.txt         # 🇨🇳 中文完整检查
│   ├── zh-missing.txt            # 🇨🇳 中文缺失翻译
│   └── zh-summary.txt            # 🇨🇳 中文摘要
```

## 🎯 工作流程建议

### 开发时
```bash
# 快速检查英文格式
bun run i18n:check

# 完整分析（推荐）
bun run i18n:analyze
```

### CI/CD 集成
```bash
# 在 CI 中运行分析并检查结果
bun run i18n:analyze
# 检查退出码，如果有问题会返回非零值
```

### 定期维护
1. **每周运行** `bun run i18n:analyze`
2. **处理缺失翻译** - 添加中文翻译
3. **清理未使用翻译** - 删除无用的键
4. **修复格式问题** - 确保 next-intl 格式正确

## 💡 常见问题

### Q: 发现了未使用的翻译键，应该删除吗？
A: 建议先确认这些键确实没有动态使用，然后逐步删除测试。

### Q: 中文翻译有缺失怎么办？
A: 查看 `zh-missing.txt` 了解具体缺失的键，然后在 `zh.json` 中添加对应翻译。

### Q: 报告太多了，可以清理吗？
A: 可以，报告目录已在 `.gitignore` 中，定期删除旧报告即可。

### Q: 如何集成到 VS Code？
A: 安装 "i18n Ally" 插件，配合这些脚本使用效果更佳。

## 🔧 故障排除

如果遇到问题：

1. **确认依赖安装** - `@lingual/i18n-check` 已安装
2. **检查翻译文件格式** - JSON 语法正确
3. **验证 next-intl 格式** - 参数格式符合规范
4. **查看详细错误** - 检查具体的 `.txt` 报告文件
